{"ast":null,"code":"import _slicedToArray from \"/home/taras/OsSystem/task8-9/reactCourses/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/taras/OsSystem/task8-9/reactCourses/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/taras/OsSystem/task8-9/reactCourses/src/components/lessons/9/liftingStateUp/2/index.js\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  margin-left: 10px;\\n  font-size: 12px;\\n  font-weight: regular;\\n  font-style: italic;\\n  color: #aaaaaa;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  color: #001f3f;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Chance from 'chance';\nimport faker from 'faker';\nimport styled from 'styled-components';\nimport { Switch, Route, Link, useRouteMatch } from 'react-router-dom';\nimport { SearchableList as List } from './components';\nconst MIN_ID = 0;\nconst MAX_ID = 400;\nconst MIN_COUNT = 15;\nconst chance = Chance();\nconst Header = styled.h3(_templateObject());\nconst Label = styled.span(_templateObject2());\n\nconst refreshData = count => {\n  const ids = chance.unique(chance.integer, count, {\n    min: MIN_ID,\n    max: MAX_ID\n  });\n  const data = ids.map(id => {\n    return {\n      id: id,\n      name: faker.company.companyName()\n    };\n  });\n  return data;\n};\n\nconst list = refreshData(MIN_COUNT);\n\nfunction Task() {\n  const _useRouteMatch = useRouteMatch(),\n        url = _useRouteMatch.url;\n\n  const listPath = \"\".concat(url, \"/list\");\n  const match = useRouteMatch(listPath);\n\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        archivedItems = _React$useState2[0],\n        setArchivedItems = _React$useState2[1];\n\n  const handleArchive = id => {\n    setArchivedItems(archivedItems => [...archivedItems, id]);\n  };\n\n  const handleReset = () => {\n    setArchivedItems(archivedItems => []);\n  };\n\n  const byArchived = archivedItems => item => !archivedItems.includes(item.id);\n\n  const sorted = list.filter(byArchived(archivedItems));\n  return React.createElement(\"div\", {\n    className: \"task\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, !match && React.createElement(Link, {\n    to: listPath,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"list\"), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: listPath,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"back to task page\"), React.createElement(List, {\n    list: sorted,\n    archive: handleArchive,\n    reset: handleReset,\n    archived: archivedItems,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, list.length - archivedItems.length, \" items\")));\n}\n\nexport default Task;","map":{"version":3,"sources":["/home/taras/OsSystem/task8-9/reactCourses/src/components/lessons/9/liftingStateUp/2/index.js"],"names":["React","Chance","faker","styled","Switch","Route","Link","useRouteMatch","SearchableList","List","MIN_ID","MAX_ID","MIN_COUNT","chance","Header","h3","Label","span","refreshData","count","ids","unique","integer","min","max","data","map","id","name","company","companyName","list","Task","url","listPath","match","useState","archivedItems","setArchivedItems","handleArchive","handleReset","byArchived","item","includes","sorted","filter","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Chance from 'chance';\nimport faker from 'faker';\nimport styled from 'styled-components';\nimport { Switch, Route, Link, useRouteMatch } from 'react-router-dom';\n\nimport { SearchableList as List } from './components';\n\n\nconst MIN_ID = 0;\nconst MAX_ID = 400;\n\nconst MIN_COUNT = 15;\n\nconst chance = Chance();\n\nconst Header = styled.h3`\n  color: #001f3f;\n`;\n\nconst Label = styled.span`\n  margin-left: 10px;\n  font-size: 12px;\n  font-weight: regular;\n  font-style: italic;\n  color: #aaaaaa;\n`;\n\nconst refreshData = count => {\n  const ids = chance.unique(chance.integer, count, {\n    min: MIN_ID,\n    max: MAX_ID\n  });\n  const data = ids.map(id => {\n    return { id: id, name: faker.company.companyName() };\n  });\n  return data;\n};\n\nconst list = refreshData(MIN_COUNT);\n\nfunction Task() {\n  const { url } = useRouteMatch();\n\n  const listPath = `${url}/list`;\n\n  const match = useRouteMatch(listPath);\n\n  const [archivedItems, setArchivedItems] = React.useState([]);\n\n  const handleArchive = (id) => {\n    setArchivedItems((archivedItems) => [...archivedItems, id]);\n  };\n\n  const handleReset = () => {\n    setArchivedItems((archivedItems) => []);\n  };\n\n  const byArchived = (archivedItems) => (item) => !archivedItems.includes(item.id);\n\n  const sorted = list.filter(byArchived(archivedItems));\n\n  return (\n    <div className=\"task\">\n      <Header>\n        {!match && <Link to={listPath} >list</Link>}\n        <Switch>\n          <Route path={listPath} exact >\n            <Link to={url} >back to task page</Link>\n            <List list={sorted} archive={handleArchive} reset={handleReset} archived={archivedItems}/>\n          </Route>\n        </Switch>\n        <br/>\n        <Label>{list.length - archivedItems.length} items</Label>\n      </Header>\n    </div>\n  );\n}\n\nexport default Task;\n"]},"metadata":{},"sourceType":"module"}