{"ast":null,"code":"var _jsxFileName = \"/home/taras/OsSystem/task8-9/reactCourses/src/components/lessons/9/liftingStateUp/1/index.js\";\nimport React from 'react';\n\nclass VoteComponent extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.style = {\n      padding: '8px',\n      marginTop: '16px',\n      border: 'solid 1px grey'\n    };\n\n    this.increase = () => {\n      this.setState(({\n        votesNumber\n      }) => ({\n        votesNumber: votesNumber + 1\n      }));\n    };\n\n    this.decrease = () => {\n      this.setState(({\n        votesNumber\n      }) => ({\n        votesNumber: votesNumber - 1\n      }));\n    };\n\n    this.state = {\n      votesNumber: 0\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const count = -this.state.votesNumber - prevState.votesNumber;\n    const voteCount = this.props.voteCount;\n\n    if (this.state.votesNumber !== prevState.votesNumber) {\n      this.props.onVote(voteCount + count);\n    }\n  }\n\n  render() {\n    console.log('VoteComponent render');\n    const _this$props = this.props,\n          resolution = _this$props.resolution,\n          terminalNumber = _this$props.terminalNumber;\n    return React.createElement(\"div\", {\n      style: this.style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Terminal number: \", terminalNumber), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Resolution: \\\"\", resolution, \"\\\"\"), React.createElement(\"button\", {\n      onClick: this.decrease,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"No\"), React.createElement(\"button\", {\n      onClick: this.increase,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Yes\"));\n  }\n\n}\n\nconst VotingDisplay = ({\n  resolution,\n  result\n}) => {\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Resolution: \", resolution), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Result: \", result));\n};\n\nclass VotingSystem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onVote = votesNumber => {\n      this.setState({\n        votesNumber\n      });\n    };\n\n    this.state = {\n      votesNumber: 0\n    };\n  }\n\n  render() {\n    const resolution = this.props.resolution;\n    const votesNumber = this.state.votesNumber;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(VotingDisplay, {\n      resolution: resolution,\n      result: votesNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(VoteComponent, {\n      resolution: resolution,\n      onVote: this.onVote,\n      terminalNumber: 1,\n      voteCount: votesNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(VoteComponent, {\n      resolution: resolution,\n      onVote: this.onVote,\n      terminalNumber: 2,\n      voteCount: votesNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(VoteComponent, {\n      resolution: resolution,\n      onVote: this.onVote,\n      terminalNumber: 3,\n      voteCount: votesNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst resolution = 'Free beer to all programmers';\n\nconst Task = () => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(VotingSystem, {\n    resolution: resolution,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }));\n};\n\nexport default Task;","map":{"version":3,"sources":["/home/taras/OsSystem/task8-9/reactCourses/src/components/lessons/9/liftingStateUp/1/index.js"],"names":["React","VoteComponent","PureComponent","constructor","props","style","padding","marginTop","border","increase","setState","votesNumber","decrease","state","componentDidUpdate","prevProps","prevState","snapshot","count","voteCount","onVote","render","console","log","resolution","terminalNumber","VotingDisplay","result","VotingSystem","Component","Task"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nclass VoteComponent extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      votesNumber: 0,\n    };\n  }\n\n  style = {\n    padding: '8px',\n    marginTop: '16px',\n    border: 'solid 1px grey',\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const count = -this.state.votesNumber -prevState.votesNumber;\n    const {voteCount} = this.props;\n    if (this.state.votesNumber !== prevState.votesNumber) {\n      this.props.onVote(voteCount + count);\n    }\n  }\n\n  increase = () => {\n    this.setState(({ votesNumber }) => ({votesNumber: votesNumber + 1}));\n  }\n\n  decrease = () => {\n    this.setState(({ votesNumber }) => ({votesNumber: votesNumber - 1}));\n  }\n\n  render() {\n    console.log('VoteComponent render');\n    const { resolution, terminalNumber } = this.props;\n    return (\n      <div style={this.style} >\n        <h6>Terminal number: {terminalNumber}</h6>\n        <h3>Resolution: \"{resolution}\"</h3>\n        <button onClick={this.decrease}>No</button>\n        <button onClick={this.increase}>Yes</button>\n      </div>\n    );\n  }\n}\n\nconst VotingDisplay = ({ resolution, result }) => {\n  return (\n    <React.Fragment>\n      <h1>Resolution: {resolution}</h1>\n      <h2>Result: {result}</h2>\n    </React.Fragment>\n  );\n}\n\nclass VotingSystem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      votesNumber: 0,\n    };\n  }\n\n  onVote = (votesNumber) => {\n    this.setState({votesNumber});\n  }\n\n  render() {\n    const { resolution } = this.props;\n    const { votesNumber } = this.state;\n    return (\n      <React.Fragment>\n        <VotingDisplay resolution={resolution} result={votesNumber} />\n        <VoteComponent resolution={resolution} onVote={this.onVote} terminalNumber={1} voteCount={votesNumber}/>\n        <VoteComponent resolution={resolution} onVote={this.onVote} terminalNumber={2} voteCount={votesNumber}/>\n        <VoteComponent resolution={resolution} onVote={this.onVote} terminalNumber={3} voteCount={votesNumber}/>\n      </React.Fragment>\n    );\n  }\n}\n\nconst resolution = 'Free beer to all programmers';\n\nconst Task = () => {\n  return (\n    <div>\n      <VotingSystem resolution={resolution} />\n    </div>\n  );\n};\n\nexport default Task;\n"]},"metadata":{},"sourceType":"module"}